{"ast":null,"code":"var _jsxFileName = \"/home/aoshisen/Study/cnode/cnode-hooks/src/view/topic/index.js\";\nimport React, { useEffect, Fragment } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Alert } from \"antd\";\nimport { useTopic } from \"../../store/action\";\nimport Detail from \"./detail\";\n\nfunction TopicPage() {\n  let {\n    id\n  } = useParams();\n  console.log(id);\n  let getData = useTopic();\n  let history = useHistory();\n  let {\n    loading,\n    data,\n    isError,\n    err_msg\n  } = useSelector(state => state.topic);\n  useEffect(() => {\n    getData(id);\n  }, [id]); // console.log(loading,data,isError,err_msg)\n  // useSelector(state=>console.log(state))\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"topic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  }, isError ? /*#__PURE__*/React.createElement(Alert, {\n    closable: true,\n    message: '请求出错',\n    description: /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }\n    }, err_msg), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }\n    }, \"\\u70B9\\u51FB\\u5173\\u95ED\\u6309\\u94AE\\u8FD4\\u56DE\\u4E0A\\u4E00\\u9875\")),\n    afterClose: () => {\n      history.goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Detail, {\n    loading: loading,\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 20\n    }\n  })));\n}\n\nexport default TopicPage;","map":{"version":3,"sources":["/home/aoshisen/Study/cnode/cnode-hooks/src/view/topic/index.js"],"names":["React","useEffect","Fragment","useSelector","useParams","useHistory","Alert","useTopic","Detail","TopicPage","id","console","log","getData","history","loading","data","isError","err_msg","state","topic","goBack"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,SAAR,EAAmBC,UAAnB,QAAoC,kBAApC;AACA,SAAQC,KAAR,QAAoB,MAApB;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AACA,SAASC,SAAT,GAAoB;AAChB,MAAI;AAACC,IAAAA;AAAD,MAAMN,SAAS,EAAnB;AACAO,EAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACA,MAAIG,OAAO,GAACN,QAAQ,EAApB;AACA,MAAIO,OAAO,GAACT,UAAU,EAAtB;AACA,MAAI;AAACU,IAAAA,OAAD;AAASC,IAAAA,IAAT;AAAcC,IAAAA,OAAd;AAAsBC,IAAAA;AAAtB,MAA+Bf,WAAW,CAACgB,KAAK,IAAEA,KAAK,CAACC,KAAd,CAA9C;AACAnB,EAAAA,SAAS,CAAC,MAAI;AACVY,IAAAA,OAAO,CAACH,EAAD,CAAP;AACH,GAFQ,EAEP,CAACA,EAAD,CAFO,CAAT,CANgB,CAShB;AACA;;AACA,sBACA;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBO,OAAO,gBAC/B,oBAAC,KAAD;AACI,IAAA,QAAQ,MADZ;AAEI,IAAA,OAAO,EAAE,MAFb;AAGI,IAAA,WAAW,eACP,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIC,OAAJ,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4EAFJ,CAJR;AASI,IAAA,UAAU,EAAE,MAAI;AACZJ,MAAAA,OAAO,CAACO,MAAR;AAEH,KAZL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD+B,gBAgB1B,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAU,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEN,OAAjB;AAA0B,IAAA,IAAI,EAAEC,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAV,CAhBL,CADA;AAoBH;;AACD,eAAeP,SAAf","sourcesContent":["import React, { useEffect, Fragment } from \"react\";\nimport {useSelector} from \"react-redux\";\nimport {useParams, useHistory} from \"react-router-dom\"\nimport {Alert} from \"antd\"\nimport { useTopic } from \"../../store/action\";\nimport Detail from \"./detail\"\nfunction TopicPage(){\n    let {id} =useParams();\n    console.log(id)\n    let getData=useTopic();\n    let history=useHistory();\n    let {loading,data,isError,err_msg}=useSelector(state=>state.topic)\n    useEffect(()=>{\n        getData(id)\n    },[id])\n    // console.log(loading,data,isError,err_msg)\n    // useSelector(state=>console.log(state))\n    return (\n    <div className=\"topic\">{isError?(\n    <Alert \n        closable\n        message={'请求出错'}\n        description={\n            <Fragment>\n                <p>{err_msg}</p>\n                <p>点击关闭按钮返回上一页</p>\n            </Fragment>\n        }\n        afterClose={()=>{\n            history.goBack();\n\n        }}\n        />)\n        :\n        (<Fragment><Detail loading={loading} data={data}/></Fragment>)\n        }</div>\n    )\n}\nexport default TopicPage;"]},"metadata":{},"sourceType":"module"}